package recommendation;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Comparator;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.stream.Stream;

import db.MySQLConnection;

public class Model {
	public static void main(String[] args) {
		MySQLConnection connection = new MySQLConnection();
		HashMap<String, Integer> map = connection.getIngredientFreq();
		connection.close();

//		Stream<Map.Entry<String, Integer>> sorted = map.entrySet().stream()
//				.sorted(Collections.reverseOrder(Map.Entry.comparingByValue()));
//		sorted.forEach(System.out::println);
		
		Object[] a = map.entrySet().toArray();
		Arrays.sort(a, new Comparator() {
		    public int compare(Object o1, Object o2) {
		        return ((Map.Entry<String, Integer>) o2).getValue()
		                   .compareTo(((Map.Entry<String, Integer>) o1).getValue());
		    }
		});
		for (Object e : a) {
		    System.out.println(((Map.Entry<String, Integer>) e).getKey() + " : "
		            + ((Map.Entry<String, Integer>) e).getValue());
		}
	}
}