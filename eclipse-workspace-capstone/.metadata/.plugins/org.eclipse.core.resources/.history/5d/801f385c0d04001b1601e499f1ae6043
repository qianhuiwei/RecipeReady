package tests;

import static org.junit.Assert.*;

import java.util.List;

import org.junit.Test;

import entity.Item;
import external.RecipeAPIClient;

public class SearchAPI {

	@Test
	public void test() {
		RecipeAPIClient client = new RecipeAPIClient();
		List<Item> itemList = client.search(1, 2);
		
		int itemNum = itemList.size();
		Item item1 = itemList.get(0);
		Item item2 = itemList.get(1);
		int item1_id = item1.getItemId();
		int item2_id = item2.getItemId();
		
		String item1_imageUrl = item1.getImageUrl();
		String item1_title = item1.getTitle();
		List<Double> item1_amounts = item1.getAmounts();
		List<String> item1_units = item1.getUnits();
		List<String> item1_ingredients = item1.getIngredients();
		List<String> item1_instructions = item1.getInstructions();
		String item1_sourceUrl = item1.getSourceUrl();
		
		String ing1 = item1_ingredients.get(0);
		String ing2 = item1_ingredients.get(1);
		String ing3 = item1_ingredients.get(2);
		String ing4 = item1_ingredients.get(3);
		String ing5 = item1_ingredients.get(4);
		String ing6 = item1_ingredients.get(5);
		String ing7 = item1_ingredients.get(6);
		String ing8 = item1_ingredients.get(7);


		assertEquals(2, itemNum);
		System.out.println("total item amount checked");
		
		assertEquals(1, item1_id);
		System.out.println("item 1 ID checked");
		
		assertEquals(2, item2_id);
		System.out.println("item 2 ID checked");
		
		assertEquals("https://spoonacular.com/recipeImages/1-556x370.jpg", item1_imageUrl);
		System.out.println("item 1 imageUrl checked");
		
		assertEquals("Fried Anchovies with Sage", item1_title);
		System.out.println("item 1 title checked");
		
		assertEquals(8, item1_amounts.size());
		System.out.println("item 1 amount total number checked");
		
		assertEquals(8, item1_units.size());
		System.out.println("item 1 unit total number checked");
		
		assertEquals(8, item1_ingredients.size());
		System.out.println("item 1 indredient total number checked");
		
		assertEquals(8, item1_instructions.size());
		System.out.println("item 1 instruction total number checked");
		
		assertEquals("http://latavolamarcherecipebox.blogspot.com/2009/10/fried-anchovies-with-sage.html", item1_sourceUrl);
		System.out.println("item 1 sourceUrl checked");
		
		assertEquals("anchovies", ing1);
		assertEquals("baking powder", ing2);
		assertEquals("egg", ing3);
		assertEquals("flour", ing4);
		assertEquals("sage leaves", ing5);
		assertEquals("salt", ing6);
		assertEquals("seltzer water", ing7);
		assertEquals("vegetable oil", ing8);
		System.out.println("item 1 all ingredient names checked");
	}

}
